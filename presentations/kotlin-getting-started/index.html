<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Kotlin</title>
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<!--<link rel="stylesheet" href="css/theme/white-sketch.css" id="theme">-->
		<link rel="stylesheet" href="css/theme/black-codebig.css" id="theme">
		
		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/tomorrow-night-bright.css">

		<link rel="stylesheet" href="css/style.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		
		<script src="js/vendor/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.0.min.js"><\/script>')</script>
        <script src="js/raphael-min.js"></script>
        
		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<pre><code class="hljs" style="font-size: 70%"data-trim contenteditable>
fun result(args: Array&lt;String&gt;) =
  html {
    head {
      title {+"XML encoding with Kotlin"}
    }
    body {
      h1 {+"XML encoding with Kotlin"}
      p  {+"this format can be used as an alternative markup to XML"}

      // an element with attributes and text content
      a(href = "http://kotlinlang.org") {+"Kotlin"}

      // mixed content
      p {
        +"This is some"
        b {+"mixed"}
        +"text. For more see the"
        a(href = "http://kotlinlang.org") {+"Kotlin"}
        +"project"
      }

      // content generated by
      p {
        for (arg in args)
          +arg
      }
    }
  }
					</code></pre>
				</section>


				<section>
					<pre><code class="hljs" style="font-size: 70%"data-trim contenteditable>
<html>
  <head>
    <title>
      XML encoding with Kotlin
    </title>
  </head>
  <body>
    <h1>
      XML encoding with Kotlin
    </h1>
    <p>
      this format can be used as an alternative markup to XML
    </p>
    <a href="http://kotlinlang.org">
      Kotlin
    </a>
    <p>
      This is some
      <b>
        mixed
      </b>
      text. For more see the
      <a href="http://kotlinlang.org">
        Kotlin
      </a>
      project
    </p>
    <p>
      some text
    </p>
    <p>
    </p>
  </body>
</html>
					</code></pre>
				</section>

				<section>
					<h1>Kotlin</h1>
					<p>A powerful new language for the JVM</p>
					<img src="img/sogeti.png" />
					<p>Erwin de Gier | Software Architect | Open Source</p>
					<aside class="notes">
						
					</aside>
				</section>

				<section>
					<h1>Today's goal</h1>
					<blockquote>
						&ldquo;To get you to start with Kotlin in your project this Monday!&rdquo;
					</blockquote>
				</section>

				<section>
					<h1>What is Kotlin?</h1>
					<img width="300" src="img/island.jpg" />
					<img width="300" src="img/ketchup.jpg" />
					<img width="300" src="img/projectKotlin.png" />
					<aside class="notes">
						Kotlin is a statically-typed programming language that runs on the Java Virtual Machine and also can be compiled to JavaScript source code. Its primary development is from a team of JetBrains programmers based in Saint Petersburg, Russia (the name comes from the Kotlin Island, near St. Petersburg).
					</aside>
				</section>

				<section>
					<h1>Why Kotlin?</h1>
					<ul>
						<li>Compact, concise syntax</li>
						<li>Powerful features like type inference, higher order functions, Null safety, named parameters, extension functions</li>
						<li>100% Java compatible, 100% open source</li>
						<li>Java 6 (think your current project or Android)</li>
					</ul>
					<aside class="notes">
						
					</aside>
				</section>

			<section>
					<pre><code class="hljs" style="font-size: 70%" data-trim contenteditable>
public class Person {
    private  String firstName;
    private  String lastName;
    private  LocalDate birthDay;

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public LocalDate getBirthDay() {
        return birthDay;
    }

    public void setBirthDay(LocalDate birthDay) {
        this.birthDay = birthDay;
    }


    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;

        Person person = (Person) o;

        if (firstName != null ? !firstName.equals(person.firstName) : person.firstName != null) return false;
        if (lastName != null ? !lastName.equals(person.lastName) : person.lastName != null) return false;
        return birthDay != null ? birthDay.equals(person.birthDay) : person.birthDay == null;

    }

    @Override
    public int hashCode() {
        int result = firstName != null ? firstName.hashCode() : 0;
        result = 31 * result + (lastName != null ? lastName.hashCode() : 0);
        result = 31 * result + (birthDay != null ? birthDay.hashCode() : 0);
        return result;
    }

    @Override
    public String toString() {
        return "Person{" +
                "firstName='" + firstName + '\'' +
                ", lastName='" + lastName + '\'' +
                ", birthDay=" + birthDay +
                '}';
    }
}
					</code></pre>
				</section>
			
				<section>
					<pre><code class="hljs" style="font-size: 70%" data-trim contenteditable>
data class Person(var firstName : String, var lastName : String, var birthDay : LocalDate)
					</code></pre>
				</section>

				<section>
					<h1>Basics</h1>
					<ul>
						<li>Functions can exists on file level</li>
						<li>Classes do not have to be in their own file</li>
					</ul>
					<pre><code class="hljs" data-trim contenteditable>
fun main(args: Array&lt;String&gt;) {
   println("Hello World")
}
					</code></pre>
					<aside class="notes">
					</aside>
				</section>

				<section>
					<pre><code class="hljs" style="font-size: 65%" data-trim contenteditable>
fun main(args: Array&lt;String&gt;) : Unit {
	val total = { x: Int, y: Int -> x + y}  //lambda statement
	println(total(1,2));		//calling a function by variable name
	println("Hello, World")
	
	val list = listOf(-2,-1,0,1,2)
	list.filter { it > 0 }.forEach { println(it) }   //functions on iterables

	val sum = ::calculateTotal   //function reference
	println(sum(2,2)) //prints 4
}

fun calculateTotal(x: Int, y: Int) = x + y //Example of an inline function, 
//where the curly braces, return type and return statement can be ommitted.

fun closure() {
	val list = listOf(-2,-1,0,1,2)
	var total = 0;
	list.filter { it > 0 }.forEach { 
		total += it  //mutable accessibility to the variables in the "closure"
	}
	println(total) //prints 3
}

fun types() {
	val s = "ABC"  //type inference
	var i = 1
	var i2: Int = 1   //explicit typing
	if(i is Int){
		println("i is of type Int")  //type check
	}
	var text: String? = null    //nullable types
	println(text?.length)
}
						
					</code></pre>	
					<aside class="notes">

					</aside>			
				</section>


				<section>
					<pre><code class="hljs" style="font-size: 70%" data-trim contenteditable>
fun createPerson = createPerson(lastName = "lastname", height = 1.82)  
//named /optional parameters
fun createPerson(firstName: String = "", lastName: String = "", street: String = "", number: Int = 0, height: Double = 0.0) {
	
}

fun whenExample(x : Int){ 
	val result = when(x) {
		getValue(x) -> print("getValue")
		0,1 -> print("0 or 1")
		else -> print("else")
	}
	//when with smart casts
	val y : Any = ""
	when(y) {
		is String -> print(y.length)
		is Int -> print(y.minus(1))
		else -> print("else")
	}

}



//extension function
fun String.allUpperCase() : Boolean {
		return this == this.toUpperCase()
}
						
					</code></pre>					
				</section>


				<section>
					<h1>Getting Started</h1>
					<ul>
						<li>IntelliJ: congrats, your done!</li>
						<li>Eclipse: install the Kotlin plugin</li>
						<li>git clone https://github.com/erwindeg/kotlin-koans</li>
					</ul>
				</section>

				<section>
					<h2>Kotlin Koans 1 Introduction</h2>
						<blockquote>
						&ldquo;Let's write some code!&rdquo;
					</blockquote>
				</section>

				<section>
					<pre><code class="hljs" style="font-size: 60%" data-trim contenteditable>
testScript {
	post("/user/", params("email" to "erwin@edegier.nl","firstname" to "Erwin","lastname" to "de Gier")){
		expectedResult("OK")
	}
	get("/user/erwin"){
		expectedResult(params("email" to "erwin@edegier.nl","firstname" to "Erwin","lastname" to "de Gier"))
	}	
}

fun testScript(init : TestScript.() -> Unit ) : TestScript {
	val testScript = TestScript()
	testScript.init();
	return testScript;
}

class TestScript {
	fun get(url: String, params: Map&lt;String,String&gt; = mapOf(), validate : RestCall.() -> Unit) : RestCall  {
		var call = RestCall(Method.GET,url,params)
		call.performCall()
		call.validate()
		return call
	}
 	...
}
					</code></pre>
				</section>

				<section>
					<h2>Kotlin Koans 5 Builders</h2>
						<blockquote>
						&ldquo;Let's write some code!&rdquo;
					</blockquote>
				</section>


				<section>
					<h1>Kotlin and Java project</h1>
					<p>https://github.com/erwindeg/kotlin-example</p>
					<pre><code class="hljs" data-trim contenteditable>
|kotlin-java
|-pom.xml //Kotlin compiler, kotlin stdlib, kotlin test 
|-src/main/java //Kotlin and Java classes
|-src/test/java //Kotlin and Java tests
					</code></pre>
					<aside class="notes">
						for a kotlin only project, the classes go in src/main/kotlin

					</aside>
				</section>
				<section>
					<h1>What's next?</h1>
					<p>Continue with the Koans from II</p>
					<p>Read the reference</p>
					<p>https://kotlinlang.org/docs/kotlin-docs.pdf</p>
					<aside class="notes">
						for a kotlin only project, the classes go in src/main/kotlin
						
					</aside>
				</section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'fade', // none/fade/slide/convex/concave/zoom
				transitionSpeed: 'slow',
				backgroundTransition: 'fade',

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
			

		</script>

	</body>
</html>
